### EC2 利用に発生する料金

- 利用する[インスタンスの種類](#インスタンスの種類)
    - [インスタンスタイプ](./EC2_Instacne-Type.md)ではなく、インスタンスを**どのよう**に利用するかということ

- インスタンスの起動時間

- インスタンスのデータ転送料金

- パブリック IP アドレスに対して発生する料金
    - Elastic IP でも　自動割り当てIPアドレスでも利用料金が発生するようになった
    - 1時間あたり 0.005USD → 1ヶ月あたり 500円ぐらい

---

### インスタンスの種類

- オンデマンドインスタンス
    - 一般的なインスタンス利用方法
    - 使用した分だけ料金を払う

<br>

- [リザーブドインスタンス](#リザーブドインスタンス)

    - (OS/インスタンスタイプ等の)インスタンスの条件と利用期間を指定することで割引を受けれる購入方法

    - **条件を指定するが、その条件通りのインスタンスを購入するのではない**

        → 購入時の条件に一致したインスタンスがあれば自動で割引が適用される

    - リザーブドインスタンスには `スタンダードクラス` と `コンバーティブルクラス` の２種類の[クラスタイプ](#2種類のクラス)がある
     
<br>

- スポットインスタンス

<br>

- Savings Plans

    - インスタンスの1時間あたりの使用料金を指定する購入方法
    - **条件を指定するが、その条件通りのインスタンスを購入するのではない**

        →購入時の条件に一致したインスタンスがあれば自動で割引が適用される

<br>
<br>

参考サイト

[RI /SP のギモン、解消します！#devio2021](https://www.youtube.com/watch?v=GFAy2Glqj88)

---

### リザーブドインスタンス

#### リザーブドインスタンスを購入する際に指定する条件(属性)

- [インスタンスタイプ](./EC2_Instacne-Type.md)

- テナンシー

- リージョン または アベイラビリティゾーン

    - リージョン を指定
        - [インスタンスの柔軟性が提供される](#インスタンスの柔軟性)

        - 購入したインスタンス分の割引は選択した AZ 内のインスタンスに自動で割り当てられる

    <br>
    
    - AZ を指定
        - インスタンスの柔軟性は提供されない

        - 購入分のインスタンスのキャパシティの予約ができる

            → AZ を指定してリザーブドインスタンスを購入する場合のキャパシティ予約には料金が発生しない (リザーブドインスタンスの購入料金に含まれている)
    
    <br>

    *リージョン or AZ で購入料金に違いは出ない

<br>

#### 期間

- 1年 or 3年
    - 3年の方が割引が大きい

<br>

#### 支払い方法

- `全額前払い/一部前払い/前払いなし` から選択することができる

    - 前払いなし: 

<br>

#### 2種類のクラス

- スタンダードクラス

- コンバーティブルクラス

<br>

#### リザーブドインスタンスの変更と交換

- 変更: 購入済みのリザーブドインスタンスの属性を変更する
    - アベイラビリティゾーンの変更
        - OS が Linux か Windows のリザーブドインスタンスなら可能

        - 上記条件を満たしていれば、スタンダードタイプでもコンバーティブルタイプでもAZの変更可能

    - インスタンスサイズ
        - OS が Linux か UNIX のリザーブドインスタンスなら可能

        - 同じファミリータイプかつ同じ世代の異なるインスタンスサイズに変更する場合なら可能

        - 上記2つの条件を満たしていれば、スタンダードタイプでもコンバーティブルタイプでもインスタンスサイズの変更可能

- 交換
    - 異なるリザードインスタンスに変更する


<br>

#### Reserved Instance Marketplace

<br>

#### インスタンスの柔軟性


<br>
<br>

参考サイト

リージョンか AZ の指定による違い
- [購入済み EC2 のリージョン RI を AZ 指定に変更する方法](https://dev.classmethod.jp/articles/ec2_ri_modify_2019/)

---

### Saving Plan